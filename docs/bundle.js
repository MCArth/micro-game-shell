!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=performance||Date;var o=e=>{if("loading"===document.readyState){var t=()=>{document.removeEventListener("readystatechange",t),e()};document.addEventListener("readystatechange",t)}else setTimeout(e,1)},i=document.querySelector.bind(document),a=i(".game"),c=new class{constructor(e,t=10){this.stickyPointerLock=!1,this.stickyFullscreen=!1,this.tickRate=30,this.maxRenderRate=0,this.pointerLock=!1,this.fullscreen=!1,this.onTick=function(e){},this.onRender=function(){},this.onInit=function(){},this.onResize=function(){},this.onPointerLockChanged=function(e){},this.onFullscreenChanged=function(e){},o(()=>{!function(e,t){var n=0,o=0,i=0,a=()=>{requestAnimationFrame(a);var t=r.now(),c=t-i;if(i=t,e.maxRenderRate>0){o+=c;var u=1e3/e.maxRenderRate;if(o<u)return;o=Math.min(o-u,u)}var s=1e3/e.tickRate,l=(t-n)/s;e.onRender(c,l,s)};setInterval(()=>{var t=r.now(),o=1e3/e.tickRate,i=n+o;t<i||(n=Math.max(t-o,i),e.onTick(o))},t||10),requestAnimationFrame(a)}(this,t),function(e,t){if(!t)return;var n=!1,r=!1;document.addEventListener("pointerlockchange",r=>{n=document.pointerLockElement===t,e.onPointerLockChanged(n)}),document.addEventListener("fullscreenchange",n=>{r=document.fullscreenElement===t,e.onFullscreenChanged(r)}),Object.defineProperty(e,"pointerLock",{get:()=>n,set:e=>{e&&!n?t.requestPointerLock():n&&!e&&document.exitPointerLock()}}),Object.defineProperty(e,"fullscreen",{get:()=>r,set:e=>{e&&!r?t.requestFullscreen():r&&!e&&document.exitFullscreen()}}),t.addEventListener("click",o=>{e.stickyPointerLock&&!n&&t.requestPointerLock(),e.stickyFullscreen&&!r&&t.requestFullscreen()});var o=()=>e.onResize();if(window.ResizeObserver){new ResizeObserver(o).observe(t)}else window.addEventListener("resize",o)}(this,e),this.onInit()})}}(a,15),u=0,s=0;function l(e,t){var n=i(e);n.oninput=e=>{var n=parseInt(e.target.value);t(isNaN(n)?e.target.checked:n)},setTimeout(()=>{var e=parseInt(n.value);t(isNaN(e)?n.checked:e)},1)}l("#PL",e=>{c.stickyPointerLock=e}),l("#FS",e=>{c.stickyFullscreen=e}),l("#TR",e=>{c.tickRate=e}),l("#MRR",e=>{c.maxRenderRate=e}),l("#WTT",e=>{u=e}),l("#WTR",e=>{s=e});var d=F(),f=1;c.onTick=e=>{!function(e){(y+=600*e/1e3)>g&&(y-=g);(R+=50*e/1e3)>b&&(R-=b)}(e);var t=d();0==--f&&(i("#OTR").textContent=Math.round(t),f=p(t));for(var n=performance.now()+u;performance.now()<n;);};var v=F(),m=1;c.onRender=(e,t,n)=>{!function(e,t){var n=(y+e*(600*t/1e3))%g,r=R+e*(50*t/1e3);if(0===L)x(1),O(n,30,40,40);else if(1===L){x(w++%10==0?.15:.05);O(n,r,2,30),r>b-30&&O(n,r-b,2,30)}else{var o=n-P;o<-g/2&&(o+=g),P=n,x(.02),k.globalCompositeOperation="copy",k.drawImage(k.canvas,-o,0),k.globalCompositeOperation="source-over",O(g-15,10,1,b-20)}}(t,n);var r=v();0==--m&&(i("#OFR").textContent=Math.round(r),m=p(r));for(var o=performance.now()+s;performance.now()<o;);};var p=e=>Math.ceil(e/5),h=i(".output"),k=h.getContext("2d"),y=0,R=0,g=h.width,b=h.height,L=0;h.onclick=()=>{L=(L+1)%3};var w=0,P=0;var x=e=>{k.fillStyle=`rgba(255,255,255, ${e})`,k.fillRect(0,0,g,b)},O=(e,t,n,r)=>{k.fillStyle="red",k.fillRect(e,t,n,r)};function F(){var e=0,t=10;return()=>{var n=performance.now(),r=n-e;return e=n,1e3/(t=.95*t+r*(1-.95))}}}]);